(this["webpackJsonpdemystify-visualiser"]=this["webpackJsonpdemystify-visualiser"]||[]).push([[0],{65:function(e,t,s){},91:function(e,t,s){"use strict";s.r(t);var r=s(0),i=s.n(r),a=s(24),n=s.n(a),o=(s(65),s(6)),c=s(7),l=s(36),h=s(9),u=s(8),p=s(97),d=s(11),g=s.n(d),b=s(17),j=s(48),m=s(12),f=s(103),x=s(100),O=s(58),v=s(1),y=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(o.a)(this,s);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={currentStep:e.props.currentStep},e}return Object(c.a)(s,[{key:"nextStep",value:function(){var e=this.state.currentStep+1;e<=this.props.maxSteps&&(this.setState({currentStep:e}),this.props.setCurrentStep(e))}},{key:"lastStep",value:function(){var e=this.state.currentStep-1;e>=0&&(this.setState({currentStep:e}),this.props.setCurrentStep(e))}},{key:"componentDidUpdate",value:function(e){e.currentStep!==this.props.currentStep&&this.setState({currentStep:this.props.currentStep})}},{key:"render",value:function(){return Object(v.jsx)(f.a,{className:this.props.className,children:Object(v.jsxs)(x.a,{inline:!0,onSubmit:function(e){return e.preventDefault()},className:"d-flex justify-content-between",children:[Object(v.jsxs)(O.a,{disabled:0===this.state.currentStep,variant:"primary",onClick:this.lastStep.bind(this),children:["Last ",this.props.stepName]}),Object(v.jsxs)(x.a.Group,{children:[Object(v.jsxs)(x.a.Label,{className:"w-70 mr-2",children:["Current ",this.props.stepName,":"]}),Object(v.jsx)(x.a.Label,{className:"w-70 mr-2",children:this.state.currentStep+1})]}),this.props.endButton?this.props.endButton:Object(v.jsxs)(O.a,{disabled:this.state.currentStep===this.props.maxSteps,variant:"primary",onClick:this.nextStep.bind(this),children:["Next ",this.props.stepName]})]})})}}]),s}(i.a.Component),k=s(57),S=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).state={highlighted:r.props.highlighted},r}return Object(c.a)(s,[{key:"toggleHighlight",value:function(){this.setState((function(e){return{highlighted:!e.highlighted}})),this.props.highlightExplanation()}},{key:"componentDidUpdate",value:function(e){e.highlighted!==this.props.highlighted&&this.setState({highlighted:this.props.highlighted})}},{key:"render",value:function(){var e=this.props,t=e.value,s=e.status;return Object(v.jsx)(k.a,{className:"m-0 p-0",style:{color:"involved"===s?"blue":"negative"===s?"red":"positive"===s?"green":"black",textShadow:"involved"===s?"0 0 4px #00FEFE":"none",textDecoration:"negative"===s?"line-through":"none",fontWeight:"positive"===s?"bolder":"normal",fontStyle:"involved"===s?"italic":"normal",backgroundColor:this.state.highlighted?"cornsilk":null},onMouseEnter:this.toggleHighlight.bind(this),onMouseLeave:this.toggleHighlight.bind(this),children:t})}}]),s}(i.a.Component),w=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this.props.borders?this.props.borders:{border:"2px solid lightgray",marginBottom:"-2px",marginLeft:"-2px"},t=this.props.margin?this.props.margin:{},s=null,r=null;return this.props.background?this.props.background.length>1?(s=this.props.background[0],r=this.props.background[1]):s=this.props.background[0]:s=this.props.background,Object(v.jsx)(k.a,{className:"m-0 p-0",children:Object(v.jsx)("div",{style:{backgroundImage:r},children:Object(v.jsxs)("div",{style:Object(m.a)(Object(m.a)(Object(m.a)({},e),t),{},{display:"flex",justifyContent:"center",alignItems:"center",backgroundImage:s,backgroundSize:"100% 100%"}),children:[this.props.cornerNumber&&Object(v.jsx)("div",{style:Object(m.a)({position:"absolute",fontWeight:"bolder",color:"white",backgroundColor:"#0275d8",borderRadius:"10px",minWidth:"1vw",fontSize:"0.8vw",paddingRight:"1px",paddingLeft:"1px",zIndex:"2"},this.props.cornerNumber.style),children:this.props.cornerNumber.value}),this.props.rightLabel&&Object(v.jsx)("div",{style:{position:"absolute",top:"35%",right:"-5%",fontSize:"2vw",zIndex:"2"},children:this.props.rightLabel}),this.props.bottomLabel&&Object(v.jsx)("div",{style:{position:"absolute",bottom:"-15%",right:"42%",fontSize:"2vw"},children:this.props.bottomLabel}),Object(v.jsxs)("div",{style:Object(m.a)(Object(m.a)({},this.props.innerBorders),{},{padding:"0px",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}),children:[this.props.children,Object(v.jsx)("div",{style:{display:"block",paddingBottom:"100%"}})]})]})})})}}]),s}(i.a.Component),C=s(96),N=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(v.jsx)(C.a,{style:this.props.style,className:"p-0 m-0 d-flex flex-direction-row align-items-center justify-content-center",children:this.props.children})}}]),s}(i.a.Component),B=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).state={highlighted:r.props.highlighted},r}return Object(c.a)(s,[{key:"isSingleton",value:function(){var e=this.props.cellContent.cellRows;return 1===e.length&&1===e[0].cellValues.length}},{key:"getSingletonValue",value:function(){return this.props.cellContent.cellRows[0].cellValues[0].value}},{key:"componentDidUpdate",value:function(e){e.highlighted!==this.props.highlighted&&this.setState({highlighted:this.props.highlighted})}},{key:"highlight",value:function(e){this.props.highlight(e)}},{key:"chooseBackground",value:function(){var e,t=this.props,s=t.cellContent,r=t.literalBackgrounds,i=t.cellBackground,a=this.state.highlighted;e=s.cellRows.some((function(e){return e.cellValues.some((function(e){return e.explanations.includes(a.toString())}))}))?"linear-gradient(cornsilk, cornsilk)":"";var n=this.isSingleton(),o=this.getSingletonValue();return r&&n?[r[o.toString()],e]:i?[i,e]:[e]}},{key:"getFontSize",value:function(e){var t=this.props.literalSize;return t?(t*e).toString()+"vw":e.toString()+"vw"}},{key:"isHidden",value:function(e){var t=this.props.hiddenLiterals;return t&&t.includes(e)}},{key:"render",value:function(){var e=this,t=this.props,s=t.cellContent,r=t.cellBorders,i=t.cellInnerBorders,a=t.cellMargin,n=t.cornerNumber,o=t.rightLabel,c=t.bottomLabel,l=t.literalSize,h=this.state.highlighted,u=this.isSingleton(),d=this.getSingletonValue();return Object(v.jsx)(w,{background:this.chooseBackground(),borders:r,innerBorders:i,margin:a,size:l,cornerNumber:n,rightLabel:o,bottomLabel:c,children:u?!this.isHidden(d)&&Object(v.jsx)("h1",{style:{fontSize:this.getFontSize(2)},children:d}):Object(v.jsx)(p.a,{fluid:!0,className:"p-0 align-items-center",children:s.cellRows.map((function(t,s){return Object(v.jsx)(N,{style:{fontSize:e.getFontSize(1)},children:t.cellValues.map((function(t,s){return Object(v.jsx)(S,{value:t.value,status:t.status,highlighted:t.explanations.includes(h.toString()),highlightExplanation:function(){return e.highlight(t.explanations)}},s)}))},s)}))})})}}]),s}(i.a.Component),L=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"getIndex",value:function(e,t,s){return e?e[t][s]:null}},{key:"render",value:function(){var e=this,t=this.props,s=t.highlighted,r=t.highlight,i=t.rows,a=t.literalBackgrounds,n=t.cellBorders,o=t.cellInnerBorders,c=t.cellBackgrounds,l=t.cellMargin,h=t.literalSize,u=t.cornerNumbers,d=t.rightLabels,g=t.bottomLabels,b=t.hiddenLiterals,j=t.rowsums,m=t.endrowsums,x=t.colsums,O=t.endcolsums,y=t.startrows,S=t.startcols;return Object(v.jsx)(f.a,{className:"mt-3 p-5",children:Object(v.jsxs)(p.a,{fluid:!0,style:{minWidth:"400px",padding:"0px"},children:[Object(v.jsxs)(N,{children:[Object(v.jsx)(k.a,{xs:1,className:"m-0 p-0"}),S&&S.map((function(e){return Object(v.jsx)(k.a,{className:"m-0 p-0"})})),j&&Object(v.jsx)(k.a,{className:"m-0 p-0"}),i[0].cells.map((function(e,t){return Object(v.jsx)(k.a,{className:"m-0 p-0",children:Object(v.jsx)("small",{className:"text-muted",children:t+1})},t)})),m&&Object(v.jsx)(k.a,{className:"m-0 p-0"})]}),y&&y.map((function(e){return Object(v.jsxs)(N,{children:[Object(v.jsx)(k.a,{xs:1,className:"m-0 p-0"}),S&&S.map((function(e){return Object(v.jsx)(w,{})})),e.map((function(e,t){return Object(v.jsx)(w,{children:Object(v.jsx)("h3",{style:{fontSize:"2vw",color:"gray"},children:e})})})),m&&Object(v.jsx)(w,{})]})})),x&&Object(v.jsxs)(N,{children:[Object(v.jsx)(k.a,{xs:1,className:"m-0 p-0"}),Object(v.jsx)(w,{}),x.map((function(e,t){return Object(v.jsx)(w,{children:Object(v.jsx)("h3",{style:{fontSize:"2vw",color:"gray"},children:e})})})),m&&Object(v.jsx)(w,{})]}),i.map((function(t,i){return Object(v.jsxs)(N,{children:[Object(v.jsx)(k.a,{xs:1,className:"m-0 p-0",children:Object(v.jsx)("small",{className:"text-muted",children:i+1})},i),S&&S.map((function(e){return Object(v.jsx)(w,{children:Object(v.jsx)("h3",{style:{fontSize:"2vw",color:"gray"},children:e[i]})})})),j&&Object(v.jsx)(w,{children:Object(v.jsx)("h3",{style:{fontSize:"2vw",color:"gray"},children:j[i]})}),t.cells.map((function(t,p){return Object(v.jsx)(B,{cellContent:t,row:i,column:p,highlighted:s,highlight:r,cellBorders:e.getIndex(n,i,p),cellInnerBorders:e.getIndex(o,i,p),cellBackground:e.getIndex(c,i,p),cornerNumber:e.getIndex(u,i,p),rightLabel:e.getIndex(d,i,p),bottomLabel:e.getIndex(g,i,p),cellMargin:l,literalBackgrounds:a,literalSize:h,hiddenLiterals:b})})),m&&Object(v.jsx)(w,{children:Object(v.jsx)("h3",{style:{fontSize:"2vw",color:"gray"},children:m[i]})})]},i)})),O&&Object(v.jsxs)(N,{children:[Object(v.jsx)(k.a,{xs:1,className:"m-0 p-0"}),Object(v.jsx)(w,{}),O.map((function(e,t){return Object(v.jsx)(w,{children:Object(v.jsx)("h3",{style:{fontSize:"2vw",color:"gray"},children:e})})})),m&&Object(v.jsx)(w,{})]})]})})}}]),s}(i.a.Component),I=s(102),E=s(101),z=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).state={highlighted:r.props.highlighted},r}return Object(c.a)(s,[{key:"highlight",value:function(){this.setState({highlighted:!0}),this.props.highlight()}},{key:"deHighlight",value:function(){this.setState({highlighted:!1}),this.props.highlight()}},{key:"componentDidUpdate",value:function(e){e.highlighted!==this.props.highlighted&&this.setState({highlighted:this.props.highlighted})}},{key:"render",value:function(){var e=this.state.highlighted?{backgroundColor:"cornsilk"}:null,t=this.props,s=t.decision,r=t.reason,i=t.index;return Object(v.jsxs)(E.a.Item,{style:e,onMouseEnter:this.highlight.bind(this),onMouseLeave:this.deHighlight.bind(this),children:[s,Object(v.jsx)("br",{}),r]},i)}}]),s}(i.a.Component),D=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this,t=this.props,s=t.simpleDeductions,r=t.deduction,a=t.choices,n=t.smallestMUSSize,o=t.extraChoice,c=t.boldBorder;return Object(v.jsxs)(i.a.Fragment,{children:[Object(v.jsx)(f.a,{className:"mt-3",border:c?"primary":"none",children:s?Object(v.jsxs)(I.a,{defaultActiveKey:"1",children:[Object(v.jsxs)(f.a.Header,{children:[Object(v.jsxs)("h5",{children:["Made ",s.length," simple deductions."]}),Object(v.jsx)(I.a.Toggle,{as:O.a,variant:"link",eventKey:"0",children:"Show/Hide"})]}),Object(v.jsx)(I.a.Collapse,{eventKey:"0",children:Object(v.jsx)(E.a,{style:{maxHeight:"60vh",overflowY:"scroll"},children:s.map((function(t,s){return Object(v.jsx)(z,{highlighted:e.props.highlighted.includes(s.toString()),decision:t.decision,reason:t.reason,index:s,highlight:function(){return e.props.highlight(s)}},s)}))})})]}):r&&Object(v.jsxs)(i.a.Fragment,{children:[Object(v.jsx)(f.a.Header,{children:Object(v.jsx)("h5",{children:"Made the following deduction:"})}),Object(v.jsxs)(f.a.Body,{children:[Object(v.jsx)("div",{className:"mb-3",children:Object(v.jsx)("b",{children:r.decision})}),Object(v.jsx)(E.a,{style:{maxHeight:"75vh",overflowY:"scroll"},children:r.reason.map((function(t,s){return Object(v.jsx)(z,{highlighted:e.props.highlighted.includes(s.toString()),reason:t,index:s,highlight:function(){return e.props.highlight(s)}},s)}))})]})]})}),a&&Object(v.jsxs)(f.a,{className:"mt-3",children:[Object(v.jsx)(f.a.Header,{children:Object(v.jsxs)("b",{children:["Found ",o?a.length+1:a.length," choices in total for this step:"]})}),Object(v.jsxs)(f.a.Body,{children:[Object(v.jsxs)("div",{className:"mb-3",children:["See the alternative deductions with MUS size ",n,":"]}),Object(v.jsx)(y,{stepName:"Alt",className:"p-3",setCurrentStep:this.props.setChoice,maxSteps:o?a.length:a.length-1,currentStep:this.props.currentChoice}),Object(v.jsx)("div",{children:Object(v.jsx)("small",{className:"text-muted",children:"(Note: different MUSs may result in deductions that look identical)"})}),this.props.children]})]})]})}}]),s}(i.a.Component),M=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).state={x:r.props.params.x,y:r.props.params.y,colsums:Object.values(r.props.params.colsums),rowsums:Object.values(r.props.params.rowsums),treecount:r.props.params.treecount},r}return Object(c.a)(s,[{key:"getBackgrounds",value:function(){for(var e={},t=1;t<=this.state.treecount;t++)e["-"+t.toString()]="url(images/tree.png)",e[t.toString()]="url(images/tent.png)";return e}},{key:"getCellBorders",value:function(){for(var e=[],t=0;t<this.state.x;t++){e[t]=[];for(var s=0;s<this.state.y;s++)e[t].push({borderTop:0===t?"2px solid black":"2px solid lightgray",borderBottom:t===this.state.x-1?"2px solid black":"2px solid lightgray",borderLeft:0===s?"2px solid black":"2px solid lightgray",borderRight:s===this.state.y-1?"2px solid black":"2px solid lightgray",marginLeft:"-2px",marginBottom:"-2px"})}return e}},{key:"render",value:function(){return Object(v.jsx)(L,{highlight:this.props.highlight,highlighted:this.props.highlighted,rows:this.props.rows,colsums:this.state.colsums,rowsums:this.state.rowsums,literalBackgrounds:this.getBackgrounds(),cellBorders:this.getCellBorders()},this.props.key)}}]),s}(i.a.Component),U=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).state={},r}return Object(c.a)(s,[{key:"render",value:function(){return Object(v.jsx)(L,{highlight:this.props.highlight,highlighted:this.props.highlighted,rows:this.props.rows},this.props.key)}}]),s}(i.a.Component),R=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).state={grid:Object.values(r.props.params.grid).map((function(e){return Object.values(e)})),hints:Object.values(r.props.params.hints)},r}return Object(c.a)(s,[{key:"getCellBorders",value:function(){for(var e=[],t=0;t<9;t++){e[t]=[];for(var s=0;s<9;s++)e[t].push({borderTop:t%3===0?"2px solid black":"2px solid lightgray",borderBottom:8===t?"2px solid black":"2px solid lightgray",borderLeft:s%3===0?"2px solid black":"2px solid lightgray",borderRight:8===s?"2px solid black":"2px solid lightgray",marginLeft:"-2px",marginBottom:"-2px"})}return e}},{key:"getCellInnerBorders",value:function(){for(var e=[],t=this.state.grid,s=0;s<9;s++){e[s]=[];for(var r=0;r<9;r++)e[s].push({borderTop:0===s||t[s-1][r]!==t[s][r]?"2px dashed black":"2px dashed white",borderBottom:8===s||t[s+1][r]!==t[s][r]?"2px dashed black":"2px dashed white",borderLeft:0===r||t[s][r-1]!==t[s][r]?"2px dashed black":"2px dashed white",borderRight:8===r||t[s][r+1]!==t[s][r]?"2px dashed black":"2px dashed white",margin:"3px"})}return e}},{key:"getCornerNumbers",value:function(){for(var e=[],t=this.state,s=t.hints,r=t.grid,i=0,a=0;a<9;a++){e[a]=[];for(var n=0;n<9;n++)r[a][n]===i+1?(e[a].push({value:s[i],style:{top:"0%",left:"0%"}}),i++):e[a].push({value:null,style:{top:"0%",left:"0%"}})}return e}},{key:"render",value:function(){return Object(v.jsx)(L,{highlight:this.props.highlight,highlighted:this.props.highlighted,rows:this.props.rows,colsums:this.state.colsums,rowsums:this.state.rowsums,cellBorders:this.getCellBorders(),cellInnerBorders:this.getCellInnerBorders(),literalSize:.7,cornerNumbers:this.getCornerNumbers()},this.props.key)}}]),s}(i.a.Component),F=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).state={x:r.props.params.x_max,y:r.props.params.y_max,rowsums:Object.values(r.props.params.horzsums).map((function(e){return Object.values(e)})),colsums:Object.values(r.props.params.vertsums).map((function(e){return Object.values(e)})),blanks:Object.values(r.props.params.blanks).map((function(e){return Object.values(e)}))},r}return Object(c.a)(s,[{key:"getDiagonalGradient",value:function(e,t){return"linear-gradient(to bottom left, ".concat(e,", ").concat(e," 49%, lightgray 49%, lightgray 51%, ").concat(t," 51%, ").concat(t,")")}},{key:"getBackgrounds",value:function(){for(var e=this.state,t=e.rowsums,s=e.colsums,r=e.blanks,i=[],a=0;a<this.state.x;a++){i[a]=[];for(var n=0;n<this.state.y;n++)0!==t[a][n]?0!==s[a][n]?i[a].push(this.getDiagonalGradient("white","white")):i[a].push(this.getDiagonalGradient("white","lightblue")):0!==s[a][n]?i[a].push(this.getDiagonalGradient("lightblue","white")):0===r[a][n]?i[a].push("linear-gradient(lightblue, lightblue)"):i[a].push("none")}return i}},{key:"getCornerNumbers",value:function(){for(var e=[],t=this.state,s=t.rowsums,r=t.colsums,i=t.x,a=t.y,n={fontWeight:"bolder",color:"gray",backgroundColor:"none",fontSize:"1.4vw"},o=0;o<i;o++){e[o]=[];for(var c=0;c<a;c++)0!==s[o][c]?e[o].push({value:s[o][c],style:Object(m.a)({top:"20%",right:"20%"},n)}):o>0&&0!==r[o-1][c]?e[o].push({value:r[o-1][c],style:Object(m.a)({top:"-30%",left:"20%"},n)}):e[o].push({value:null,style:Object(m.a)({top:"-30%",left:"20%"},n)})}return e}},{key:"render",value:function(){return Object(v.jsx)(L,{highlight:this.props.highlight,highlighted:this.props.highlighted,rows:this.props.rows,cellBackgrounds:this.getBackgrounds(),cornerNumbers:this.getCornerNumbers(),hiddenLiterals:[0]},this.props.key)}}]),s}(i.a.Component),T=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).state={grid:Object.values(r.props.params.blocks).map((function(e){return Object.values(e)})),gridSize:r.props.params.grid},r}return Object(c.a)(s,[{key:"getCellBorders",value:function(){for(var e=[],t=this.state,s=t.grid,r=t.gridSize,i=0;i<r;i++){e[i]=[];for(var a=0;a<r;a++)e[i].push({borderTop:0===i||s[i-1][a]!==s[i][a]?"2px solid black":"2px solid lightgray",borderBottom:i===r-1||s[i+1][a]!==s[i][a]?"2px solid black":"2px solid lightgray",borderLeft:0===a||s[i][a-1]!==s[i][a]?"2px solid black":"2px solid lightgray",borderRight:a===r-1||s[i][a+1]!==s[i][a]?"2px solid black":"2px solid lightgray",marginLeft:"-2px",marginBottom:"-2px"})}return e}},{key:"getBackgrounds",value:function(){return{1:"url(images/star.png)"}}},{key:"render",value:function(){return Object(v.jsx)(L,{highlight:this.props.highlight,highlighted:this.props.highlighted,rows:this.props.rows,colsums:this.state.colsums,rowsums:this.state.rowsums,cellBorders:this.getCellBorders(),literalBackgrounds:this.getBackgrounds()},this.props.key)}}]),s}(i.a.Component),H=s(47),J=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).state={lessThans:Object.values(r.props.params.lt).map((function(e){return Object.values(e)})),size:r.props.params.SIZE},r}return Object(c.a)(s,[{key:"getRightLabels",value:function(){for(var e=[],t=this.state,s=t.size,r=t.lessThans,i=0;i<s;i++){e[i]=[];for(var a=0;a<s;a++)e[i].push(null)}var n,o=Object(H.a)(r);try{for(o.s();!(n=o.n()).done;){var c=n.value,l=c[0],h=c[1],u=c[2],p=c[3];l===u&&(h<p?e[l-1][h-1]="<":e[u-1][p-1]=">")}}catch(d){o.e(d)}finally{o.f()}return e}},{key:"getBottomLabels",value:function(){for(var e=[],t=this.state,s=t.size,r=t.lessThans,i=0;i<s;i++){e[i]=[];for(var a=0;a<s;a++)e[i].push(null)}var n,o=Object(H.a)(r);try{for(o.s();!(n=o.n()).done;){var c=n.value,l=c[0],h=c[1],u=c[2],p=c[3];h===p&&(l<u?e[l-1][h-1]="\u2227":e[u-1][p-1]="\u2228")}}catch(d){o.e(d)}finally{o.f()}return e}},{key:"render",value:function(){return Object(v.jsx)(L,{highlight:this.props.highlight,highlighted:this.props.highlighted,rows:this.props.rows,cellMargin:{margin:"20px"},rightLabels:this.getRightLabels(),bottomLabels:this.getBottomLabels()},this.props.key)}}]),s}(i.a.Component),W=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).state={colsums:Object.values(r.props.params.colsums),rowsums:Object.values(r.props.params.rowsums),grid:Object.values(r.props.params.therms).map((function(e){return Object.values(e)}))},r}return Object(c.a)(s,[{key:"getBackgrounds",value:function(){for(var e=this.state.grid,t=[],s=this.state.grid.length,r=this.state.grid[0].length,i=0;i<s;i++){t[i]=[];for(var a=0;a<r;a++){var n=Math.floor(e[i][a]/10),o=i>0?Math.floor(e[i-1][a]/10):null,c=i<s-1?Math.floor(e[i+1][a]/10):null,l=a>0?Math.floor(e[i][a-1]/10):null,h=a<r-1?Math.floor(e[i][a+1]/10):null;e[i][a]%10===1?o===n?t[i].push("url(images/themHeadN.png)"):l===n?t[i].push("url(images/themHeadW.png)"):h===n?t[i].push("url(images/themHeadE.png)"):c===n&&t[i].push("url(images/themHeadS.png)"):o===n&&c!==n?t[i].push("url(images/themTipS.png)"):c===n&&o!==n?t[i].push("url(images/themTipN.png)"):o===n&&c===n?t[i].push("url(images/themV.png)"):h===n&&l!==n?t[i].push("url(images/themTipW.png)"):l===n&&h!==n?t[i].push("url(images/themTipE.png)"):h===n&&l===n&&t[i].push("url(images/themH.png)")}}return t}},{key:"getCellBorders",value:function(){for(var e=[],t=0;t<this.state.grid.length;t++){e[t]=[];for(var s=0;s<this.state.grid[0].length;s++)e[t].push({borderTop:0===t?"2px solid black":"2px solid lightgray",borderBottom:t===this.state.x-1?"2px solid black":"2px solid lightgray",borderLeft:0===s?"2px solid black":"2px solid lightgray",borderRight:s===this.state.y-1?"2px solid black":"2px solid lightgray",marginLeft:"-2px",marginBottom:"-2px"})}return e}},{key:"render",value:function(){return Object(v.jsx)(L,{highlight:this.props.highlight,cellBackgrounds:this.getBackgrounds(),highlighted:this.props.highlighted,colsums:this.state.colsums,rowsums:this.state.rowsums,rows:this.props.rows,cellBorders:this.getCellBorders()},this.props.key)}}]),s}(i.a.Component),G=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).state={size:r.props.params.SIZE,rowsums:Object.values(r.props.params.CLUES[1]).map((function(e){return 0===e?null:e})),colsums:Object.values(r.props.params.CLUES[2]).map((function(e){return 0===e?null:e})),endrowsums:Object.values(r.props.params.CLUES[3]).map((function(e){return 0===e?null:e})),endcolsums:Object.values(r.props.params.CLUES[4]).map((function(e){return 0===e?null:e}))},r}return Object(c.a)(s,[{key:"render",value:function(){return Object(v.jsx)(L,{highlight:this.props.highlight,highlighted:this.props.highlighted,rows:this.props.rows,colsums:this.state.colsums,endcolsums:this.state.endcolsums,rowsums:this.state.rowsums,endrowsums:this.state.endrowsums},this.props.key)}}]),s}(i.a.Component),V=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).state={grid:Object.values(r.props.params.presetvals).map((function(e){return Object.values(e)})),operations:Object.values(r.props.params.op),opMap:{1:"+",2:"-",3:"\xd7"}},r}return Object(c.a)(s,[{key:"getCellBorders",value:function(){for(var e=[],t=this.state.grid,s=0;s<t.length;s++){e[s]=[];for(var r=0;r<t[0].length;r++)e[s].push({borderTop:-2===t[s][r]?"2px solid transparent":"2px solid lightgray",borderBottom:-2===t[s][r]?"2px solid transparent":"2px solid lightgray",borderLeft:-2===t[s][r]?"2px solid transparent":"2px solid lightgray",borderRight:-2===t[s][r]?"2px solid transparent":"2px solid lightgray",marginLeft:"-2px",marginBottom:"-2px"})}return e}},{key:"getRightLabels",value:function(){for(var e=[],t=this.state,s=t.grid,r=t.opMap,i=t.operations,a=0;a<s.length;a++){e[a]=[];for(var n=0;n<s[0].length;n++)e[a].push(null)}return e[0][1]="=",e[0][5]="=",e[1][3]="=",e[3][1]="=",e[3][5]="=",e[5][1]="=",e[5][5]="=",e[8][1]="=",e[8][5]="=",e[0][0]=r[i[0]],e[0][4]=r[i[1]],e[1][2]=r[i[6]],e[3][0]=r[i[7]],e[3][4]=r[i[8]],e[5][0]=r[i[11]],e[5][4]=r[i[12]],e[6][2]=r[i[17]],e[8][0]=r[i[18]],e[8][4]=r[i[19]],e}},{key:"getBottomLabels",value:function(){for(var e=[],t=this.state,s=t.grid,r=t.opMap,i=t.operations,a=0;a<s.length;a++){e[a]=[];for(var n=0;n<s[0].length;n++)e[a].push(null)}return e[1][0]="=",e[1][2]="=",e[1][4]="=",e[1][6]="=",e[4][1]="=",e[4][5]="=",e[6][0]="=",e[6][2]="=",e[6][4]="=",e[6][6]="=",e[0][0]=r[i[2]],e[0][2]=r[i[3]],e[0][4]=r[i[4]],e[0][6]=r[i[5]],e[3][1]=r[i[9]],e[3][5]=r[i[10]],e[5][0]=r[i[13]],e[5][2]=r[i[14]],e[5][4]=r[i[15]],e[5][6]=r[i[16]],e}},{key:"render",value:function(){return Object(v.jsx)(L,{highlight:this.props.highlight,highlighted:this.props.highlighted,rows:this.props.rows,hiddenLiterals:[-2],cellBorders:this.getCellBorders(),rightLabels:this.getRightLabels(),bottomLabels:this.getBottomLabels()},this.props.key)}}]),s}(i.a.Component),Q=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).state={rowcounts:Object.values(r.props.params.rowcounts).map((function(e){return Object.values(e)})),colcounts:Object.values(r.props.params.colcounts).map((function(e){return Object.values(e)}))},r}return Object(c.a)(s,[{key:"getBackgrounds",value:function(){var e={0:"linear-gradient(white, white)",1:"linear-gradient(black, black)"};return e}},{key:"transpose",value:function(e){return e[0].map((function(t,s){return e.map((function(e){return e[s]}))}))}},{key:"render",value:function(){return Object(v.jsx)(L,{highlight:this.props.highlight,highlighted:this.props.highlighted,rows:this.props.rows,literalBackgrounds:this.getBackgrounds(),hiddenLiterals:[0,1],startrows:this.transpose(this.state.colcounts),startcols:this.transpose(this.state.rowcounts)},this.props.key)}}]),s}(i.a.Component),A=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"getCellBorders",value:function(){for(var e=[],t=0;t<9;t++){e[t]=[];for(var s=0;s<9;s++)e[t].push({borderTop:t%3===0?"2px solid black":"2px solid lightgray",borderBottom:8===t?"2px solid black":"2px solid lightgray",borderLeft:s%3===0?"2px solid black":"2px solid lightgray",borderRight:8===s?"2px solid black":"2px solid lightgray",marginLeft:"-2px",marginBottom:"-2px"})}return e}},{key:"render",value:function(){return Object(v.jsx)(L,{highlight:this.props.highlight,highlighted:this.props.highlighted,rows:this.props.rows,cellBorders:this.getCellBorders(),literalSize:.7},this.props.key)}}]),s}(i.a.Component),P=s(104),K=s(98),_=s(31),q=s.n(_);function Y(){return Z.apply(this,arguments)}function Z(){return(Z=Object(b.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.get("examples");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return $.apply(this,arguments)}function $(){return($=Object(b.a)(g.a.mark((function e(t){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.get("examples/".concat(t));case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e,t,s,r,i,a,n,o,c){return te.apply(this,arguments)}function te(){return(te=Object(b.a)(g.a.mark((function e(t,s,r,i,a,n,o,c,l){var h;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.post("api/job",{eprimeName:t,eprime:s,paramName:r,param:i,algorithm:a,numSteps:n,explainedLits:o,appendChoices:c,choice:l});case 2:return h=e.sent,e.abrupt("return",h.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return(se=Object(b.a)(g.a.mark((function e(t){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.get("api/job/".concat(t));case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(b.a)(g.a.mark((function e(t){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.get("api/job/".concat(t,"/output"));case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ie=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).state={status:"pending",pollDelay:1e3,pollCount:0,error:null},r}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval((function(){return e.checkStatus()}),this.state.pollDelay)}},{key:"componentDidUpdate",value:function(e,t){var s=this;t.pollDelay!==this.state.pollDelay&&(clearInterval(this.timer),this.timer=setInterval((function(){return s.checkStatus()}),this.state.pollDelay))}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"checkStatus",value:function(){var e=this;(function(e){return se.apply(this,arguments)})(this.props.jobId).then((function(t){return"finished"===t.status&&function(e){return re.apply(this,arguments)}(e.props.jobId).then((function(t){clearInterval(e.timer),e.props.setInput(t,e.props.mode)})).catch((function(t){clearInterval(e.timer),t.response?e.setState({error:t.response.data}):e.setState({error:t})}))})),this.setState({pollCount:this.state.pollCount+1}),10===this.state.pollCount&&this.setState({pollDelay:1e4})}},{key:"render",value:function(){return Object(v.jsx)("div",{children:null!==this.state.error?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h4",{children:"demystify job failed"}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Job ID:"})," ",this.props.jobId]}),Object(v.jsxs)(P.a,{variant:"warning",className:"m-4",children:[Object(v.jsx)("b",{children:"Error message: "}),this.state.error]})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(K.a,{animation:"border"}),Object(v.jsx)("h4",{children:"demystify is running... "}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Job ID:"})," ",this.props.jobId]}),Object(v.jsxs)("p",{children:["If you don't want to wait here for the job to complete you can check its progress later at: ",Object(v.jsx)("br",{})," ",Object(v.jsx)("a",{href:window.location+"api/job/"+this.props.jobId,children:window.location+"api/job/"+this.props.jobId}),Object(v.jsx)("br",{})," and then save the result when it's ready from:",Object(v.jsx)("br",{})," ",Object(v.jsx)("a",{href:window.location+"api/job/"+this.props.jobId+"/output",children:window.location+"api/job/"+this.props.jobId+"/output"})]})]})})}}]),s}(i.a.Component),ae=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).state={currentStep:0,highlightedLiterals:-1,highlightedExplanations:[],currentChoice:0,selectedChoice:0,type:r.props.type,params:r.props.params,inputObject:r.props.inputObject,continueData:r.props.continueData,isWaiting:!1,finishedPuzzle:!1},r}return Object(c.a)(s,[{key:"isChoicesStep",value:function(){return"manual"===this.props.mode&&!this.state.finishedPuzzle&&this.state.currentStep===this.state.inputObject.length-1}},{key:"highlightLiteral",value:function(e){this.setState((function(t){return{highlightedLiterals:t.highlightedLiterals===e?-1:e}}))}},{key:"highlightExplanation",value:function(e){this.setState((function(t){return{highlightedExplanations:JSON.stringify(t.highlightedExplanations)===JSON.stringify(e)?[]:e}}))}},{key:"setCurrentStep",value:function(e){this.setState({currentStep:e,currentChoice:0})}},{key:"setChoice",value:function(e){this.setState({currentChoice:e})}},{key:"chooseBoard",value:function(e){switch(this.state.type){case"tents.eprime":return Object(v.jsx)(M,Object(m.a)({},e));case"binairo.eprime":return Object(v.jsx)(U,Object(m.a)({},e));case"nice_killer.eprime":return Object(v.jsx)(R,Object(m.a)({},e));case"star-battle.eprime":return Object(v.jsx)(T,Object(m.a)({},e));case"kakuro.eprime":return Object(v.jsx)(F,Object(m.a)({},e));case"nfutoshiki.eprime":return Object(v.jsx)(J,Object(m.a)({},e));case"thermometer.eprime":return Object(v.jsx)(W,Object(m.a)({},e));case"skyscrapers.eprime":return Object(v.jsx)(G,Object(m.a)({},e));case"garam.eprime":return Object(v.jsx)(V,Object(m.a)({},e));case"nonogram.eprime":return Object(v.jsx)(Q,Object(m.a)({},e));case"x-sums.eprime":case"miracle.eprime":case"sudoku.eprime":return Object(v.jsx)(A,Object(m.a)({},e));default:return Object(v.jsx)(L,Object(m.a)({},e))}}},{key:"getEndButton",value:function(){return this.isChoicesStep()?Object(v.jsxs)(O.a,{variant:"success",disabled:this.state.isWaiting,onClick:this.handleGetNext.bind(this),children:["Confirm Choice"," "]}):null}},{key:"appendInput",value:function(e,t){this.setState({currentChoice:0,selectedChoice:0,currentStep:this.state.currentStep+1,continueData:e,finishedPuzzle:e.finished,inputObject:[].concat(Object(j.a)(this.state.inputObject.slice(0,-1)),Object(j.a)(e.result.steps)),isWaiting:!1})}},{key:"handleGetNext",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t,s,r,i,a,n,o,c,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.continueData,s=t.eprimename,r=t.eprime,i=t.paramname,a=t.param,n=t.algorithm,o=t.explainedLits,c=this.state.currentChoice,e.next=4,ee(s,r,i,a,n,1,o,!0,c);case 4:l=e.sent,this.setState({isWaiting:!0,jobId:l.jobId});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getStepData",value:function(){return this.isChoicesStep()?this.state.inputObject[this.state.currentStep].choices[this.state.currentChoice]:0===this.state.currentChoice?this.state.inputObject[this.state.currentStep]:this.state.inputObject[this.state.currentStep].otherChoices[this.state.currentChoice-1]}},{key:"getAlternatives",value:function(){return this.isChoicesStep()?this.state.inputObject[this.state.currentStep].choices:this.state.inputObject[this.state.currentStep].otherChoices}},{key:"handleSelectChoice",value:function(){this.setState({selectedChoice:this.state.currentChoice})}},{key:"render",value:function(){var e=this.getStepData(),t={params:this.state.params,highlight:this.highlightExplanation.bind(this),key:this.state.highlightedLiterals,highlighted:this.state.highlightedLiterals,rows:e.puzzleState.matrices[0].rows};return Object(v.jsxs)(i.a.Fragment,{children:[Object(v.jsx)(y,{className:"mt-3 p-3",stepName:"step",setCurrentStep:this.setCurrentStep.bind(this),maxSteps:this.state.inputObject.length-1,currentStep:this.state.currentStep,endButton:this.getEndButton()}),this.state.isWaiting?Object(v.jsx)(C.a,{className:"mt-4 d-flex justify-content-center align-items-center",children:Object(v.jsx)(f.a,{className:"mt-3",children:Object(v.jsx)(f.a.Body,{children:Object(v.jsx)(ie,{jobId:this.state.jobId,setInput:this.appendInput.bind(this),mode:this.state.mode})})})}):Object(v.jsxs)(C.a,{className:"mb-4",children:[Object(v.jsx)(k.a,{xs:12,md:8,lg:8,xl:6,children:this.chooseBoard(t)}),Object(v.jsxs)(k.a,{children:[e.skippedDeductions&&Object(v.jsx)(f.a,{className:"mt-3",children:Object(v.jsx)(f.a.Body,{children:Object(v.jsx)("small",{children:"Skipped some obvious deductions."})})}),Object(v.jsx)(D,{highlight:this.highlightLiteral.bind(this),simpleDeductions:e.simpleDeductions,deduction:e.deduction,highlighted:this.state.highlightedExplanations,boldBorder:this.isChoicesStep()&&this.state.currentChoice===this.state.selectedChoice,choices:this.getAlternatives(),smallestMUSSize:this.state.inputObject[this.state.currentStep].smallestMUSSize,setChoice:this.setChoice.bind(this),currentChoice:this.state.currentChoice,extraChoice:!this.isChoicesStep(),children:this.isChoicesStep()&&Object(v.jsxs)(v.Fragment,{children:[this.state.currentChoice!==this.state.selectedChoice?Object(v.jsx)(O.a,{onClick:this.handleSelectChoice.bind(this),className:"mt-3",variant:"success",children:"Select explanation"}):Object(v.jsx)(O.a,{className:"mt-3",disabled:!0,variant:"success",children:"Currently selected"}),Object(v.jsxs)("p",{className:"mt-3",children:["Currently selected choice: ",this.state.selectedChoice+1]})," "]})})]})]})]})}}]),s}(i.a.Component),ne=s(38),oe=s(99),ce=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).uploadFile=function(){var e=Object(b.a)(g.a.mark((function e(t){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(s=new FileReader).onload=function(){var e=Object(b.a)(g.a.mark((function e(t){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{s=t.target.result,r.props.onUpload(s,r.fileInput.current.files[0].name)}catch(i){r.props.onError()}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.readAsText(t.target.files[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.fileInput=i.a.createRef(),r}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(v.jsx)("input",{disabled:this.props.disabled,type:"file",ref:this.fileInput,onChange:function(t){return e.uploadFile(t)}})}}]),s}(i.a.Component),le=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).componentDidUpdate=function(){r.state.isQueueing?window.onbeforeunload=function(){return!0}:window.onbeforeunload=void 0},r.state={examples:[],eprime:null,eprimename:null,param:null,paramname:null,error:"",jobId:null,isLoadingExamples:!0,isLoadingExampleJSON:!1,mode:"default",algorithm:"cascade",isQueueing:!1,isWaiting:!1},r}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;Y().then((function(t){return e.setState({examples:t},(function(){return e.setState({isLoadingExamples:!1})}))}))}},{key:"handleGo",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t,s,r,i,a,n,o,c,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.eprime&&this.state.param){e.next=3;break}return this.setError("Please upload .eprime and .param files to run Demystify."),e.abrupt("return");case 3:return this.setState({isRunning:!0}),t=this.state,s=t.eprimename,r=t.eprime,i=t.paramname,a=t.param,n=t.mode,o=t.algorithm,c="default"===n?-1:0,e.prev=6,e.next=9,ee(s,r,i,a,o,c,[],!1,0);case 9:l=e.sent,this.setState({isWaiting:!0,jobId:l.jobId}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(6),this.setError("There was a problem running Demystify on the server."),this.setState({isRunning:!1});case 17:case"end":return e.stop()}}),e,this,[[6,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"setError",value:function(e){this.setState({error:e})}},{key:"getExamples",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:return t=e.sent,e.prev=3,s=t.map((function(e){return Object(v.jsx)(oe.a.Item,{children:e})})),e.abrupt("return",s);case 8:return e.prev=8,e.t0=e.catch(3),e.abrupt("return",Object(v.jsx)(P.a,{className:"m-0",variant:"warning",children:"Error fetching examples."}));case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"chooseExample",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoadingExampleJSON:!0}),e.next=3,X(t);case 3:s=e.sent,this.props.setInput({result:s},"default");case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleModeChange",value:function(e){this.setState({mode:e.target.value})}},{key:"handleOptionChange",value:function(e){this.setState(Object(ne.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(v.jsx)("h1",{className:"mt-3",children:"Demystify Visualiser"}),Object(v.jsx)("img",{className:"mt-3",style:{width:"100px"},alt:"demystify logo",src:"favicon.ico"}),Object(v.jsx)(f.a,{as:C.a,className:"mt-3 pt-3 w-75",children:this.state.isWaiting?Object(v.jsx)(ie,{jobId:this.state.jobId,setInput:this.props.setInput,mode:this.state.mode}):Object(v.jsxs)(E.a,{variant:"flush",children:[Object(v.jsx)(E.a.Item,{children:Object(v.jsxs)(C.a,{children:[Object(v.jsx)("b",{className:"mx-4",children:"  Load Demystify output from JSON file:"}),Object(v.jsx)(ce,{disabled:this.state.isQueueing||this.state.isLoadingExampleJSON,onUpload:function(t){return e.props.setInput({result:JSON.parse(t)},"default")},onError:function(){return e.setError("Could not read the input file. Ensure it is a JSON file produced by Demystify.")}})]})}),Object(v.jsx)(E.a.Item,{children:Object(v.jsxs)(C.a,{children:[Object(v.jsx)("b",{className:"mx-4 pt-2",children:"View a pre-generated example:"}),Object(v.jsxs)(oe.a,{onSelect:function(t){return e.chooseExample(t)},children:[Object(v.jsx)(oe.a.Toggle,{disabled:this.state.isQueueing,variant:"success",id:"dropdown-basic",children:"Examples"}),Object(v.jsx)(oe.a.Menu,{children:this.state.isLoadingExamples?Object(v.jsx)("div",{className:"d-flex justify-content-center",children:Object(v.jsx)(K.a,{animation:"border"})}):this.state.examples.map((function(t){return Object(v.jsx)(oe.a.Item,{eventKey:t,onClick:function(){return e.chooseExample(t)},children:t},t)}))})]}),this.state.isLoadingExampleJSON&&Object(v.jsx)(K.a,{className:"ml-4",animation:"border"})]})}),Object(v.jsxs)(E.a.Item,{children:[Object(v.jsx)(C.a,{children:Object(v.jsx)("b",{className:"mx-4 mb-4",children:"Run Demystify live:"})}),Object(v.jsxs)(C.a,{children:[Object(v.jsx)("p",{className:"mx-4",children:"Puzzle description (.eprime): "}),Object(v.jsx)(ce,{disabled:this.state.isQueueing||this.state.isLoadingExampleJSON,onUpload:function(t,s){return e.setState({eprime:t,eprimename:s})},onError:function(){return e.setError("Could not read the input file. Ensure it is a valid .eprime file.")}})]}),Object(v.jsxs)(C.a,{children:[Object(v.jsx)("p",{className:"mx-4",children:"Puzzle instance (.param): "}),Object(v.jsx)(ce,{disabled:this.state.isQueueing||this.state.isLoadingExampleJSON,onUpload:function(t,s){return e.setState({param:t,paramname:s})},onError:function(){return e.setError("Could not read the input file. Ensure it is a valid .param file.")}})]}),Object(v.jsx)(C.a,{children:Object(v.jsxs)(x.a,{inline:!0,className:"mx-4 mb-3",children:[Object(v.jsx)(x.a.Label,{className:"mr-4",children:"Mode: "}),Object(v.jsx)(x.a.Check,{className:"mr-4",type:"radio",name:"mode",value:"default",checked:"default"===this.state.mode,onChange:this.handleModeChange.bind(this),label:"Use default MUS choices"}),Object(v.jsx)(x.a.Check,{type:"radio",name:"mode",value:"manual",checked:"manual"===this.state.mode,onChange:this.handleModeChange.bind(this),label:"Choose MUSes manually"})]})}),Object(v.jsx)(C.a,{children:Object(v.jsxs)(x.a,{inline:!0,className:"mx-4 mb-3",children:[Object(v.jsx)(x.a.Label,{className:"mr-4",children:"MUS algorithm: "}),Object(v.jsx)(x.a.Check,{className:"mr-4",type:"radio",name:"algorithm",value:"cascade",checked:"cascade"===this.state.algorithm,onChange:this.handleOptionChange.bind(this),label:"Cascade"}),Object(v.jsx)(x.a.Check,{type:"radio",name:"algorithm",value:"forqes",checked:"forqes"===this.state.algorithm,onChange:this.handleOptionChange.bind(this),label:"FORQES"})]})}),Object(v.jsxs)(C.a,{children:[Object(v.jsx)(O.a,{disabled:this.state.isQueueing||this.state.isLoadingExampleJSON,className:"mx-4",variant:"success",onClick:this.handleGo.bind(this),children:"Go"}),this.state.isQueueing&&Object(v.jsxs)(i.a.Fragment,{children:[Object(v.jsx)(K.a,{animation:"border"}),Object(v.jsx)("p",{className:"ml-4",children:"Setting up Demystify job..."})]})]})]})]})}),this.state.error.length>0&&Object(v.jsx)(P.a,{variant:"warning",className:"mt-3 p-4 w-75 text-center",children:this.state.error})]})}}]),s}(i.a.Component),he=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(o.a)(this,s);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={inputObject:[],type:"",params:{},error:!1,mode:"default",continueData:null},e.render=function(){return Object(v.jsx)(p.a,{fluid:!0,style:{textAlign:"center"},children:0===e.state.inputObject.length||e.state.error?Object(v.jsx)(le,{setInput:e.setJSONInput.bind(Object(l.a)(e))}):Object(v.jsx)(ae,{inputObject:e.state.inputObject,continueData:e.state.continueData,type:e.state.type,params:e.state.params,mode:e.state.mode})})},e}return Object(c.a)(s,[{key:"setJSONInput",value:function(e,t){var s=this,r=e.result;this.setState({continueData:e,inputObject:r.steps,type:r.name,params:r.params,mode:t},(function(){return!(s.state.inputObject&&s.state.type&&s.state.params)&&s.setError()})),e.finished&&this.setState({mode:"default"})}},{key:"setError",value:function(){this.setState({error:!0})}},{key:"conponentDidUpdate",value:function(e,t){t.error&&this.setState({error:!1})}}]),s}(i.a.Component),ue=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,105)).then((function(t){var s=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,n=t.getTTFB;s(e),r(e),i(e),a(e),n(e)}))};s(90);n.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(he,{})}),document.getElementById("root")),ue()}},[[91,1,2]]]);
//# sourceMappingURL=main.441d78da.chunk.js.map